var ometa = require('ometajs'),
    OMeta = ometa.OMeta,
    Parser = ometa.Parser,
    BSJSParser = exports.BSJSParser = ometa.BSJSParser,
    BSJSTranslator = exports.BSJSTranslator = ometa.BSJSTranslator;
{var KrasotaJSParser=exports.KrasotaJSParser=objectThatDelegatesTo(OMeta,{
"spaces":function(){var $elf=this,_fromIdx=this.input.idx,c;return (function(){c=this._consumedBy((function(){return this._many((function(){return this._apply("space")}))}));return ["spaces",c]}).call(this)},
"spacesNoNl":function(){var $elf=this,_fromIdx=this.input.idx,c;return (function(){c=this._consumedBy((function(){return this._many((function(){return (function(){this._not((function(){return this._applyWithArgs("exactly","\n")}));return this._apply("space")}).call(this)}))}));return ["spaces",c]}).call(this)},
"spacesUntil":function(){var $elf=this,_fromIdx=this.input.idx,u,s;return (function(){u=this._apply("anything");return this._or((function(){return (function(){s=this._consumedBy((function(){return (function(){this._apply("spacesNoNl");return this._applyWithArgs("exactly","\n")}).call(this)}));this._lookahead((function(){return this._applyWithArgs("apply",u)}));return ["spaces",s]}).call(this)}),(function(){return (function(){this._lookahead((function(){return this._applyWithArgs("apply",u)}));return ["spaces",""]}).call(this)}),(function(){return this._apply("spaces")}))}).call(this)},
"comment":function(){var $elf=this,_fromIdx=this.input.idx,c;return (function(){c=this._or((function(){return this._applyWithArgs("fromTo","//","\n")}),(function(){return this._applyWithArgs("fromTo","/*","*/")}));return ["comment",c]}).call(this)},
"sc":function(){var $elf=this,_fromIdx=this.input.idx,s,c;return (function(){c=this._many((function(){return this._or((function(){return this._apply("comment")}),(function(){return (function(){s=this._consumedBy((function(){return this._many1((function(){return this._apply("space")}))}));return ["spaces",s]}).call(this)}))}));return ["spacesAndComments",c]}).call(this)},
"nameFirst":function(){var $elf=this,_fromIdx=this.input.idx;return this._or((function(){return this._apply("letter")}),(function(){return (function(){switch(this._apply('anything')){case "$":return "$";case "_":return "_";default: throw fail}}).call(this)}))},
"nameRest":function(){var $elf=this,_fromIdx=this.input.idx;return this._or((function(){return this._apply("nameFirst")}),(function(){return this._apply("digit")}))},
"iName":function(){var $elf=this,_fromIdx=this.input.idx,r;return (function(){r=this._applyWithArgs("firstAndRest","nameFirst","nameRest");return r.join("")}).call(this)},
"isKeyword":function(){var $elf=this,_fromIdx=this.input.idx,x;return (function(){x=this._apply("anything");return this._pred(KrasotaJSParser._isKeyword(x))}).call(this)},
"name":function(){var $elf=this,_fromIdx=this.input.idx,n;return (function(){n=this._apply("iName");this._not((function(){return this._applyWithArgs("isKeyword",n)}));return ["name",n]}).call(this)},
"keyword":function(){var $elf=this,_fromIdx=this.input.idx,k,kk;return (function(){k=this._apply("anything");kk=this._apply("iName");this._applyWithArgs("isKeyword",kk);this._pred(((! k) || (k == kk)));return ["keyword",kk]}).call(this)},
"hexDigit":function(){var $elf=this,_fromIdx=this.input.idx,x,v;return (function(){x=this._apply("char");v=this["hexDigits"].indexOf(x.toLowerCase());this._pred((v >= (0)));return v}).call(this)},
"hexLit":function(){var $elf=this,_fromIdx=this.input.idx,n,d;return this._or((function(){return (function(){n=this._apply("hexLit");d=this._apply("hexDigit");return ((n * (16)) + d)}).call(this)}),(function(){return this._apply("hexDigit")}))},
"number":function(){var $elf=this,_fromIdx=this.input.idx,n,f;return this._or((function(){return (function(){switch(this._apply('anything')){case "0":return (function(){this._applyWithArgs("exactly","x");"0x";n=this._apply("hexLit");return ["number",n]}).call(this);default: throw fail}}).call(this)}),(function(){return (function(){f=this._consumedBy((function(){return (function(){this._many1((function(){return this._apply("digit")}));return this._opt((function(){return (function(){this._applyWithArgs("exactly",".");return this._many1((function(){return this._apply("digit")}))}).call(this)}))}).call(this)}));return ["number",parseFloat(f)]}).call(this)}))},
"escapeChar":function(){var $elf=this,_fromIdx=this.input.idx,c;return (function(){this._applyWithArgs("exactly","\\");c=this._apply("char");return unescape(("\\" + c))}).call(this)},
"str":function(){var $elf=this,_fromIdx=this.input.idx,cs,cs;return (function(){switch(this._apply('anything')){case "\'":return (function(){cs=this._many((function(){return this._or((function(){return this._apply("escapeChar")}),(function(){return (function(){this._not((function(){return this._applyWithArgs("exactly","\'")}));return this._apply("char")}).call(this)}))}));this._applyWithArgs("exactly","\'");return ["string",cs.join("")]}).call(this);case "\"":return (function(){cs=this._many((function(){return this._or((function(){return this._apply("escapeChar")}),(function(){return (function(){this._not((function(){return this._applyWithArgs("exactly","\"")}));return this._apply("char")}).call(this)}))}));this._applyWithArgs("exactly","\"");return ["string",cs.join("")]}).call(this);default: throw fail}}).call(this)},
"special":function(){var $elf=this,_fromIdx=this.input.idx,s;return (function(){s=(function(){switch(this._apply('anything')){case "(":return "(";case ")":return ")";case "{":return "{";case "}":return "}";case "[":return "[";case "]":return "]";case ",":return ",";case ";":return ";";case "?":return "?";case ":":return ":";case "!":return this._or((function(){return (function(){switch(this._apply('anything')){case "=":return this._or((function(){return (function(){switch(this._apply('anything')){case "=":return "!==";default: throw fail}}).call(this)}),(function(){return "!="}));default: throw fail}}).call(this)}),(function(){return "!"}));case "=":return this._or((function(){return (function(){switch(this._apply('anything')){case "=":return this._or((function(){return (function(){switch(this._apply('anything')){case "=":return "===";default: throw fail}}).call(this)}),(function(){return "=="}));default: throw fail}}).call(this)}),(function(){return "="}));case ">":return this._or((function(){return (function(){switch(this._apply('anything')){case "=":return ">=";default: throw fail}}).call(this)}),(function(){return ">"}));case "<":return this._or((function(){return (function(){switch(this._apply('anything')){case "=":return "<=";default: throw fail}}).call(this)}),(function(){return "<"}));case "+":return this._or((function(){return (function(){switch(this._apply('anything')){case "+":return "++";case "=":return "+=";default: throw fail}}).call(this)}),(function(){return "+"}));case "-":return this._or((function(){return (function(){switch(this._apply('anything')){case "-":return "--";case "=":return "-=";default: throw fail}}).call(this)}),(function(){return "-"}));case "*":return this._or((function(){return (function(){switch(this._apply('anything')){case "=":return "*=";default: throw fail}}).call(this)}),(function(){return "*"}));case "/":return this._or((function(){return (function(){switch(this._apply('anything')){case "=":return "/=";default: throw fail}}).call(this)}),(function(){return "/"}));case "%":return this._or((function(){return (function(){switch(this._apply('anything')){case "=":return "%=";default: throw fail}}).call(this)}),(function(){return "%"}));case "&":return (function(){switch(this._apply('anything')){case "&":return this._or((function(){return (function(){switch(this._apply('anything')){case "=":return "&&=";default: throw fail}}).call(this)}),(function(){return "&&"}));default: throw fail}}).call(this);case "|":return (function(){switch(this._apply('anything')){case "|":return this._or((function(){return (function(){switch(this._apply('anything')){case "=":return "||=";default: throw fail}}).call(this)}),(function(){return "||"}));default: throw fail}}).call(this);case ".":return ".";default: throw fail}}).call(this);return [s,s]}).call(this)},
"formal":function(){var $elf=this,_fromIdx=this.input.idx;return (function(){this._apply("spaces");return this._applyWithArgs("token","name")}).call(this)},
"funcRest":function(){var $elf=this,_fromIdx=this.input.idx,fs,body;return (function(){this._applyWithArgs("token","(");fs=this._applyWithArgs("listOf","formal",",");this._applyWithArgs("token",")");this._applyWithArgs("token","{");body=this._apply("stmts");this._applyWithArgs("token","}");return ["func",fs,body]}).call(this)},
"obj":function(){var $elf=this,_fromIdx=this.input.idx,bs;return (function(){this._applyWithArgs("token","{");bs=this._applyWithArgs("listOf","objBinding",",");this._applyWithArgs("token","}");return ["obj"].concat(bs)}).call(this)},
"objBinding":function(){var $elf=this,_fromIdx=this.input.idx,n,v;return (function(){n=this._apply("objPropName");this._applyWithArgs("token",":");v=this._apply("asgnExpr");return ["binding",n,v]}).call(this)},
"objPropName":function(){var $elf=this,_fromIdx=this.input.idx;return this._or((function(){return this._applyWithArgs("token","name")}),(function(){return this._applyWithArgs("token","number")}),(function(){return this._applyWithArgs("token","string")}))},
"re":function(){var $elf=this,_fromIdx=this.input.idx,x;return (function(){this._apply("spaces");x=this._consumedBy((function(){return (function(){this._applyWithArgs("exactly","/");this._apply("reBody");this._applyWithArgs("exactly","/");return this._many((function(){return this._apply("reFlag")}))}).call(this)}));return ["regExp",x]}).call(this)},
"reBody":function(){var $elf=this,_fromIdx=this.input.idx;return (function(){this._apply("re1stChar");return this._many((function(){return this._apply("reChar")}))}).call(this)},
"re1stChar":function(){var $elf=this,_fromIdx=this.input.idx;return this._or((function(){return (function(){this._not((function(){return (function(){switch(this._apply('anything')){case "*":return "*";case "\\":return "\\";case "/":return "/";case "[":return "[";default: throw fail}}).call(this)}));return this._apply("reNonTerm")}).call(this)}),(function(){return this._apply("escapeChar")}),(function(){return this._apply("reClass")}))},
"reChar":function(){var $elf=this,_fromIdx=this.input.idx;return this._or((function(){return this._apply("re1stChar")}),(function(){return (function(){switch(this._apply('anything')){case "*":return "*";default: throw fail}}).call(this)}))},
"reNonTerm":function(){var $elf=this,_fromIdx=this.input.idx;return (function(){this._not((function(){return (function(){switch(this._apply('anything')){case "\n":return "\n";case "\r":return "\r";default: throw fail}}).call(this)}));return this._apply("char")}).call(this)},
"reClass":function(){var $elf=this,_fromIdx=this.input.idx;return (function(){this._applyWithArgs("exactly","[");this._many((function(){return this._apply("reClassChar")}));return this._applyWithArgs("exactly","]")}).call(this)},
"reClassChar":function(){var $elf=this,_fromIdx=this.input.idx;return (function(){this._not((function(){return (function(){switch(this._apply('anything')){case "[":return "[";case "]":return "]";default: throw fail}}).call(this)}));return this._apply("reChar")}).call(this)},
"reFlag":function(){var $elf=this,_fromIdx=this.input.idx;return this._apply("nameFirst")},
"spacesUntilExpr":function(){var $elf=this,_fromIdx=this.input.idx;return this._applyWithArgs("spacesUntil","expr")},
"bracketedExpr":function(){var $elf=this,_fromIdx=this.input.idx,sc1,e,sc2;return (function(){this._applyWithArgs("exactly","(");sc1=this._apply("sc");e=this._apply("expr");sc2=this._apply("sc");this._applyWithArgs("exactly",")");return ["bracketedExpr",sc1,e,sc2]}).call(this)},
"expr":function(){var $elf=this,_fromIdx=this.input.idx;return this._or((function(){return this._apply("bracketedExpr")}),(function(){return this._applyWithArgs("keyword","this")}))},
"expr_":function(){var $elf=this,_fromIdx=this.input.idx;return this._apply("commaExpr")},
"commaExpr":function(){var $elf=this,_fromIdx=this.input.idx,e1,e2;return this._or((function(){return (function(){e1=this._apply("commaExpr");this._applyWithArgs("exactly",",");e2=this._apply("asgnExpr");return ["binop",",",e1,e2]}).call(this)}),(function(){return this._apply("asgnExpr")}))},
"asgnExpr":function(){var $elf=this,_fromIdx=this.input.idx,e,rhs,rhs,rhs,rhs,rhs,rhs,rhs,rhs;return (function(){e=this._apply("condExpr");return this._or((function(){return (function(){this._applyWithArgs("token","=");rhs=this._apply("asgnExpr");return ["set",e,rhs]}).call(this)}),(function(){return (function(){this._applyWithArgs("token","+=");rhs=this._apply("asgnExpr");return ["mset",e,"+",rhs]}).call(this)}),(function(){return (function(){this._applyWithArgs("token","-=");rhs=this._apply("asgnExpr");return ["mset",e,"-",rhs]}).call(this)}),(function(){return (function(){this._applyWithArgs("token","*=");rhs=this._apply("asgnExpr");return ["mset",e,"*",rhs]}).call(this)}),(function(){return (function(){this._applyWithArgs("token","/=");rhs=this._apply("asgnExpr");return ["mset",e,"/",rhs]}).call(this)}),(function(){return (function(){this._applyWithArgs("token","%=");rhs=this._apply("asgnExpr");return ["mset",e,"%",rhs]}).call(this)}),(function(){return (function(){this._applyWithArgs("token","&&=");rhs=this._apply("asgnExpr");return ["mset",e,"&&",rhs]}).call(this)}),(function(){return (function(){this._applyWithArgs("token","||=");rhs=this._apply("asgnExpr");return ["mset",e,"||",rhs]}).call(this)}),(function(){return (function(){this._apply("empty");return e}).call(this)}))}).call(this)},
"condExpr":function(){var $elf=this,_fromIdx=this.input.idx,e,t,f;return (function(){e=this._apply("orExpr");return this._or((function(){return (function(){this._applyWithArgs("token","?");t=this._apply("condExpr");this._applyWithArgs("token",":");f=this._apply("condExpr");return ["condExpr",e,t,f]}).call(this)}),(function(){return (function(){this._apply("empty");return e}).call(this)}))}).call(this)},
"orExpr":function(){var $elf=this,_fromIdx=this.input.idx,x,y;return this._or((function(){return (function(){x=this._apply("orExpr");this._applyWithArgs("token","||");y=this._apply("andExpr");return ["binop","||",x,y]}).call(this)}),(function(){return this._apply("andExpr")}))},
"andExpr":function(){var $elf=this,_fromIdx=this.input.idx,x,y;return this._or((function(){return (function(){x=this._apply("andExpr");this._applyWithArgs("token","&&");y=this._apply("eqExpr");return ["binop","&&",x,y]}).call(this)}),(function(){return this._apply("eqExpr")}))},
"eqExpr":function(){var $elf=this,_fromIdx=this.input.idx,x,y,y,y,y;return this._or((function(){return (function(){x=this._apply("eqExpr");return this._or((function(){return (function(){this._applyWithArgs("token","==");y=this._apply("relExpr");return ["binop","==",x,y]}).call(this)}),(function(){return (function(){this._applyWithArgs("token","!=");y=this._apply("relExpr");return ["binop","!=",x,y]}).call(this)}),(function(){return (function(){this._applyWithArgs("token","===");y=this._apply("relExpr");return ["binop","===",x,y]}).call(this)}),(function(){return (function(){this._applyWithArgs("token","!==");y=this._apply("relExpr");return ["binop","!==",x,y]}).call(this)}))}).call(this)}),(function(){return this._apply("relExpr")}))},
"relExpr":function(){var $elf=this,_fromIdx=this.input.idx,x,y,y,y,y,y;return this._or((function(){return (function(){x=this._apply("relExpr");return this._or((function(){return (function(){this._applyWithArgs("token",">");y=this._apply("addExpr");return ["binop",">",x,y]}).call(this)}),(function(){return (function(){this._applyWithArgs("token",">=");y=this._apply("addExpr");return ["binop",">=",x,y]}).call(this)}),(function(){return (function(){this._applyWithArgs("token","<");y=this._apply("addExpr");return ["binop","<",x,y]}).call(this)}),(function(){return (function(){this._applyWithArgs("token","<=");y=this._apply("addExpr");return ["binop","<=",x,y]}).call(this)}),(function(){return (function(){this._applyWithArgs("token","instanceof");y=this._apply("addExpr");return ["binop","instanceof",x,y]}).call(this)}))}).call(this)}),(function(){return this._apply("addExpr")}))},
"addExpr":function(){var $elf=this,_fromIdx=this.input.idx,x,y,x,y;return this._or((function(){return (function(){x=this._apply("addExpr");this._applyWithArgs("token","+");y=this._apply("mulExpr");return ["binop","+",x,y]}).call(this)}),(function(){return (function(){x=this._apply("addExpr");this._applyWithArgs("token","-");y=this._apply("mulExpr");return ["binop","-",x,y]}).call(this)}),(function(){return this._apply("mulExpr")}))},
"mulExpr":function(){var $elf=this,_fromIdx=this.input.idx,x,y,x,y,x,y;return this._or((function(){return (function(){x=this._apply("mulExpr");this._applyWithArgs("token","*");y=this._apply("unary");return ["binop","*",x,y]}).call(this)}),(function(){return (function(){x=this._apply("mulExpr");this._applyWithArgs("token","/");y=this._apply("unary");return ["binop","/",x,y]}).call(this)}),(function(){return (function(){x=this._apply("mulExpr");this._applyWithArgs("token","%");y=this._apply("unary");return ["binop","%",x,y]}).call(this)}),(function(){return this._apply("unary")}))},
"unary":function(){var $elf=this,_fromIdx=this.input.idx,p,p,p,p,p,p,p,p;return this._or((function(){return (function(){this._applyWithArgs("token","-");p=this._apply("postfix");return ["unop","-",p]}).call(this)}),(function(){return (function(){this._applyWithArgs("token","+");p=this._apply("postfix");return ["unop","+",p]}).call(this)}),(function(){return (function(){this._applyWithArgs("token","++");p=this._apply("postfix");return ["preop","++",p]}).call(this)}),(function(){return (function(){this._applyWithArgs("token","--");p=this._apply("postfix");return ["preop","--",p]}).call(this)}),(function(){return (function(){this._applyWithArgs("token","!");p=this._apply("unary");return ["unop","!",p]}).call(this)}),(function(){return (function(){this._applyWithArgs("token","void");p=this._apply("unary");return ["unop","void",p]}).call(this)}),(function(){return (function(){this._applyWithArgs("token","delete");p=this._apply("unary");return ["unop","delete",p]}).call(this)}),(function(){return (function(){this._applyWithArgs("token","typeof");p=this._apply("unary");return ["unop","typeof",p]}).call(this)}),(function(){return this._apply("postfix")}))},
"postfix":function(){var $elf=this,_fromIdx=this.input.idx,p;return (function(){p=this._apply("primExpr");return this._or((function(){return (function(){this._apply("spacesNoNl");this._applyWithArgs("token","++");return ["postop","++",p]}).call(this)}),(function(){return (function(){this._apply("spacesNoNl");this._applyWithArgs("token","--");return ["postop","--",p]}).call(this)}),(function(){return (function(){this._apply("empty");return p}).call(this)}))}).call(this)},
"primExpr":function(){var $elf=this,_fromIdx=this.input.idx,p,i,m,as,f,as;return this._or((function(){return (function(){p=this._apply("primExpr");return this._or((function(){return (function(){this._applyWithArgs("token","[");i=this._apply("expr");this._applyWithArgs("token","]");return ["getp",i,p]}).call(this)}),(function(){return (function(){this._applyWithArgs("token",".");m=this._applyWithArgs("token","name");this._applyWithArgs("token","(");as=this._applyWithArgs("listOf","asgnExpr",",");this._applyWithArgs("token",")");return ["send",m,p].concat(as)}).call(this)}),(function(){return (function(){this._applyWithArgs("token",".");f=this._applyWithArgs("token","name");return ["getp",["string",f],p]}).call(this)}),(function(){return (function(){this._applyWithArgs("token","(");as=this._applyWithArgs("listOf","asgnExpr",",");this._applyWithArgs("token",")");return ["call",p].concat(as)}).call(this)}))}).call(this)}),(function(){return this._apply("primExprHd")}))},
"primExprHd":function(){var $elf=this,_fromIdx=this.input.idx,e,n,n,s,n,as,es;return this._or((function(){return (function(){this._applyWithArgs("token","(");e=this._apply("expr");this._applyWithArgs("token",")");return e}).call(this)}),(function(){return (function(){this._applyWithArgs("token","this");return ["this"]}).call(this)}),(function(){return (function(){n=this._applyWithArgs("token","name");return ["get",n]}).call(this)}),(function(){return (function(){n=this._applyWithArgs("token","number");return ["number",n]}).call(this)}),(function(){return (function(){s=this._applyWithArgs("token","string");return ["string",s]}).call(this)}),(function(){return (function(){this._applyWithArgs("token","function");return this._apply("funcRest")}).call(this)}),(function(){return (function(){this._applyWithArgs("token","new");n=this._applyWithArgs("token","name");this._applyWithArgs("token","(");as=this._applyWithArgs("listOf","asgnExpr",",");this._applyWithArgs("token",")");return ["new",n].concat(as)}).call(this)}),(function(){return (function(){this._applyWithArgs("token","[");es=this._applyWithArgs("listOf","asgnExpr",",");this._applyWithArgs("token","]");return ["arr"].concat(es)}).call(this)}),(function(){return this._apply("obj")}),(function(){return this._apply("re")}))},
"block":function(){var $elf=this,_fromIdx=this.input.idx,c;return (function(){this._applyWithArgs("exactly","{");c=this._or((function(){return this._many((function(){return this._apply("stmt")}))}),(function(){return this._apply("spaces")}));this._applyWithArgs("exactly","}");return ["blockStmt",c]}).call(this)},
"vars":function(){var $elf=this,_fromIdx=this.input.idx,bs;return (function(){this._applyWithArgs("token","var");bs=this._applyWithArgs("listOf","binding",",");return ["var"].concat(bs)}).call(this)},
"binding":function(){var $elf=this,_fromIdx=this.input.idx,n,v;return (function(){n=this._applyWithArgs("token","name");v=this._or((function(){return (function(){this._applyWithArgs("token","=");return this._apply("asgnExpr")}).call(this)}),(function(){return (function(){this._apply("empty");return ["get","undefined"]}).call(this)}));return [n,v]}).call(this)},
"spacesUntilStmt":function(){var $elf=this,_fromIdx=this.input.idx;return this._applyWithArgs("spacesUntil","stmt")},
"stmtWithExprAndStmt":function(){var $elf=this,_fromIdx=this.input.idx,k,sc1,be,sc2,c;return (function(){k=this._apply("anything");this._applyWithArgs("keyword",k);sc1=this._apply("sc");be=this._apply("bracketedExpr");sc2=this._apply("sc");c=this._apply("stmtContent");return [(k + "Stmt"),sc1,be,sc2,c]}).call(this)},
"stmtKeyword":function(){var $elf=this,_fromIdx=this.input.idx,k,se;return (function(){k=this._apply("anything");this._applyWithArgs("keyword",k);se=this._apply("stmtEnd");return [(k + "Stmt"),se]}).call(this)},
"stmtEnd":function(){var $elf=this,_fromIdx=this.input.idx,s,c,s;return this._or((function(){return (function(){s=this._apply("spacesNoNl");c=(function(){switch(this._apply('anything')){case "\n":return "\n";case ";":return ";";default: throw fail}}).call(this);return ["stmtEnd",s,c]}).call(this)}),(function(){return (function(){s=this._apply("spacesNoNl");this._or((function(){return this._lookahead((function(){return this._applyWithArgs("exactly","}")}))}),(function(){return this._apply("end")}));return ["stmtEnd",s]}).call(this)}))},
"stmt":function(){var $elf=this,_fromIdx=this.input.idx,s1,c,s2,cc;return (function(){cc=this._consumedBy((function(){return (function(){s1=this._apply("spaces");c=this._apply("stmtContent");return s2=this._apply("spacesUntilStmt")}).call(this)}));return ["stmt",s1,c,s2]}).call(this)},
"stmtContent":function(){var $elf=this,_fromIdx=this.input.idx;return this._or((function(){return this._apply("commentStmt")}),(function(){return this._apply("block")}),(function(){return this._apply("ifStmt")}),(function(){return this._apply("whileStmt")}),(function(){return this._apply("doWhileStmt")}),(function(){return this._apply("breakStmt")}),(function(){return this._apply("continueStmt")}),(function(){return this._apply("throwStmt")}),(function(){return this._apply("returnStmt")}),(function(){return this._apply("withStmt")}),(function(){return this._apply("exprStmt")}),(function(){return this._apply("emptyStmt")}))},
"commentStmt":function(){var $elf=this,_fromIdx=this.input.idx,c;return (function(){c=this._apply("comment");return ["commentStmt",c]}).call(this)},
"ifStmt":function(){var $elf=this,_fromIdx=this.input.idx,i,sc1,sc2,c;return this._or((function(){return (function(){i=this._applyWithArgs("stmtWithExprAndStmt","if");sc1=this._apply("sc");this._applyWithArgs("keyword","else");sc2=this._apply("sc");c=this._apply("stmtContent");return i.concat([sc1,sc2,c])}).call(this)}),(function(){return this._applyWithArgs("stmtWithExprAndStmt","if")}))},
"whileStmt":function(){var $elf=this,_fromIdx=this.input.idx;return this._applyWithArgs("stmtWithExprAndStmt","while")},
"doWhileStmt":function(){var $elf=this,_fromIdx=this.input.idx,sc1,c,sc2,sc3,be;return (function(){this._applyWithArgs("keyword","do");sc1=this._apply("sc");c=this._apply("block");sc2=this._apply("sc");this._applyWithArgs("keyword","while");sc3=this._apply("sc");be=this._apply("bracketedExpr");return ["doWhileStmt",sc1,c,sc2,sc3,be]}).call(this)},
"breakStmt":function(){var $elf=this,_fromIdx=this.input.idx;return this._applyWithArgs("stmtKeyword","break")},
"continueStmt":function(){var $elf=this,_fromIdx=this.input.idx;return this._applyWithArgs("stmtKeyword","continue")},
"throwStmt":function(){var $elf=this,_fromIdx=this.input.idx,sc1,e,sc2,se;return (function(){this._applyWithArgs("keyword","throw");sc1=this._apply("sc");e=this._apply("expr");sc2=this._apply("sc");se=this._apply("stmtEnd");return ["throwStmt",sc1,e,sc2,se]}).call(this)},
"returnStmt":function(){var $elf=this,_fromIdx=this.input.idx,sc1,e,sc2,se;return (function(){this._applyWithArgs("keyword","return");this._opt((function(){return (function(){sc1=this._apply("sc");return e=this._apply("expr")}).call(this)}));sc2=this._apply("sc");se=this._apply("stmtEnd");return ["returnStmt"].concat((e?[sc1,e]:[]).concat([sc2,se]))}).call(this)},
"withStmt":function(){var $elf=this,_fromIdx=this.input.idx;return this._applyWithArgs("stmtWithExprAndStmt","with")},
"exprStmt":function(){var $elf=this,_fromIdx=this.input.idx,e,se;return (function(){e=this._apply("expr");se=this._apply("stmtEnd");return ["exprStmt",e,se]}).call(this)},
"emptyStmt":function(){var $elf=this,_fromIdx=this.input.idx;return (function(){this._applyWithArgs("exactly",";");return ["emptyStmt"]}).call(this)},
"topLevel":function(){var $elf=this,_fromIdx=this.input.idx,c;return (function(){c=this._many((function(){return this._apply("stmt")}));this._apply("end");return c}).call(this)}});(KrasotaJSParser["hexDigits"]="0123456789abcdef");(KrasotaJSParser["_isKeyword"]=(function (ks,k){var keywords = ({});while((k=ks.shift())){(keywords[k]=true)};return (function (k){return keywords.hasOwnProperty(k)})})(["break","case","catch","continue","default","delete","do","else","finally","for","function","if","in","instanceof","new","return","switch","this","throw","try","typeof","var","void","while","with"]));var KrasotaJSSerializer=exports.KrasotaJSSerializer=objectThatDelegatesTo(OMeta,{
"spaces":function(){var $elf=this,_fromIdx=this.input.idx,s;return s=this._apply("anything")},
"spacesAndComments":function(){var $elf=this,_fromIdx=this.input.idx,c;return (function(){this._form((function(){return c=this._many((function(){return this._apply("t")}))}));return c}).call(this)},
"keyword":function(){var $elf=this,_fromIdx=this.input.idx,k;return k=this._apply("anything")},
"bracketedExpr":function(){var $elf=this,_fromIdx=this.input.idx,s1,e,s2;return (function(){s1=this._apply("t");e=this._apply("t");s2=this._apply("t");return ["(",s1,e,s2,")"]}).call(this)},
"stmtWithExprAndStmt":function(){var $elf=this,_fromIdx=this.input.idx,k,s1,be,s2,c;return (function(){k=this._apply("anything");s1=this._apply("t");be=this._apply("t");s2=this._apply("t");c=this._apply("t");return [k,s1,be,s2,c]}).call(this)},
"stmtKeyword":function(){var $elf=this,_fromIdx=this.input.idx,k,se;return (function(){k=this._apply("anything");se=this._apply("t");return [k,se]}).call(this)},
"stmtEnd":function(){var $elf=this,_fromIdx=this.input.idx,s,c,s;return this._or((function(){return (function(){s=this._apply("t");c=this._apply("anything");return [(s + c)]}).call(this)}),(function(){return s=this._apply("t")}))},
"stmt":function(){var $elf=this,_fromIdx=this.input.idx,s1,c,s2;return (function(){s1=this._apply("t");c=this._apply("t");s2=this._apply("t");return [s1,c,s2]}).call(this)},
"commentStmt":function(){var $elf=this,_fromIdx=this.input.idx,c;return (function(){c=this._apply("comment");return ["commentStmt",c]}).call(this)},
"ifStmt":function(){var $elf=this,_fromIdx=this.input.idx,i,s1,s2,c;return this._or((function(){return (function(){i=this._applyWithArgs("stmtWithExprAndStmt","if");s1=this._apply("t");s2=this._apply("t");c=this._apply("t");return [i,s1,"else",s2,c]}).call(this)}),(function(){return this._applyWithArgs("stmtWithExprAndStmt","if")}))},
"whileStmt":function(){var $elf=this,_fromIdx=this.input.idx;return this._applyWithArgs("stmtWithExprAndStmt","while")},
"doWhileStmt":function(){var $elf=this,_fromIdx=this.input.idx,s1,c,s2,s3,be;return (function(){s1=this._apply("t");c=this._apply("t");s2=this._apply("t");s3=this._apply("t");be=this._apply("t");return ["do",s1,c,s2,"while",s3,be]}).call(this)},
"breakStmt":function(){var $elf=this,_fromIdx=this.input.idx;return stmtKeyword("break")},
"continueStmt":function(){var $elf=this,_fromIdx=this.input.idx;return stmtKeyword("continue")},
"throwStmt":function(){var $elf=this,_fromIdx=this.input.idx,s1,e,s2,se;return (function(){s1=this._apply("t");e=this._apply("t");s2=this._apply("t");se=this._apply("t");return ["throw",sc1,e,sc2,se]}).call(this)},
"returnStmt":function(){var $elf=this,_fromIdx=this.input.idx,s1,c,s2,se;return (function(){this._opt((function(){return (function(){s1=this._apply("t");return c=this._apply("t")}).call(this)}));s2=this._apply("t");se=this._apply("t");return ["return",(c?[s1,c]:""),s2,se]}).call(this)},
"withStmt":function(){var $elf=this,_fromIdx=this.input.idx;return this._applyWithArgs("stmtWithExprAndStmt","with")},
"exprStmt":function(){var $elf=this,_fromIdx=this.input.idx,e,se;return (function(){e=this._apply("t");se=this._apply("t");return [e,se]}).call(this)},
"emptyStmt":function(){var $elf=this,_fromIdx=this.input.idx;return ";"},
"t":function(){var $elf=this,_fromIdx=this.input.idx,t,r;return (function(){this._form((function(){return (function(){t=this._apply("anything");return r=this._applyWithArgs("apply",t)}).call(this)}));return r}).call(this)},
"topLevel":function(){var $elf=this,_fromIdx=this.input.idx,c;return (function(){c=this._many((function(){return this._apply("t")}));this._apply("end");return this._flatjoin(c)}).call(this)}});(KrasotaJSSerializer["_flatjoin"]=(function (arr){var j = (function (r,o){return (o["reduce"]?o.reduce(j,r):(r + o))});return arr.reduce(j,"")}))}
